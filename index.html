<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calendario de Adviento â€” MÃ­stico Â· Luna Nera Shop</title>
  <style>
    :root {
      --bg: #020617;
      --accent: #fbbf24;
      --muted: #cbd5e1;
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }
    body {
      background: radial-gradient(circle at top, #1f2937 0, #020617 60%);
      color: var(--muted);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px;
    }
    .wrap {
      width: 100%;
      max-width: 1100px;
    }
    header {
      text-align: center;
      margin-bottom: 18px;
    }
    h1 {
      color: #f9fafb;
      font-size: 28px;
      margin: 0 0 6px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }
    p.lead {
      margin: 0;
      color: #9fb0c6;
      font-size: 14px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px;
      margin-top: 18px;
    }
    @media (max-width: 900px) {
      .grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    @media (max-width: 640px) {
      .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    .card {
      position: relative;
      overflow: hidden;
      padding: 14px;
      border-radius: 16px;
      min-height: 110px;
      cursor: pointer;
      border: 1px solid rgba(148,163,184,0.35);
      background:
        radial-gradient(circle at 10% 0%, rgba(251,191,36,0.22), transparent 55%),
        radial-gradient(circle at 100% 120%, rgba(94,234,212,0.16), rgba(15,23,42,0.96));
      box-shadow: 0 12px 30px rgba(15,23,42,0.85);
      transition: transform 130ms ease, box-shadow 130ms ease, border-color 130ms ease;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 40px rgba(15,23,42,1);
      border-color: rgba(251,191,36,0.9);
    }
    .head {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .num {
      width: 42px;
      height: 42px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 20% 0%, #facc15 0, #78350f 45%, #020617 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #0b1120;
      font-weight: 800;
      font-size: 18px;
      border: 1px solid rgba(248,250,252,0.75);
      box-shadow: 0 0 16px rgba(250,204,21,0.5);
      flex-shrink: 0;
    }
    .type {
      font-size: 11px;
      color: #e5e7eb;
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }
    .short {
      margin-top: 6px;
      font-size: 13px;
      color: #cbd5e1;
      max-width: 80%;
    }
    .icon-orb {
      position: absolute;
      right: -8px;
      bottom: -12px;
      width: 120px;
      height: 120px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 42px;
      filter: drop-shadow(0 0 16px rgba(251,191,36,0.7));
      opacity: 0.9;
    }
    .icon-orb span {
      transform: translateY(-2px);
    }
    .orb-ritual {
      background: radial-gradient(circle at 30% 10%, #facc15, #f97316 45%, transparent 75%);
    }
    .orb-afirmacion {
      background: radial-gradient(circle at 20% 0%, #a855f7, #d946ef 45%, transparent 75%);
    }
    .orb-oraculo {
      background: radial-gradient(circle at 10% 0%, #38bdf8, #6366f1 45%, transparent 75%);
    }
    .orb-manualidad {
      background: radial-gradient(circle at 0% 10%, #22c55e, #16a34a 45%, transparent 75%);
    }
    .orb-audio {
      background: radial-gradient(circle at 70% 0%, #f97316, #ec4899 45%, transparent 75%);
    }
    .done-badge {
      position: absolute;
      top: 7px;
      right: 10px;
      font-size: 11px;
      color: #bbf7d0;
      background: rgba(22,163,74,0.16);
      border-radius: 999px;
      padding: 2px 7px;
      border: 1px solid rgba(34,197,94,0.4);
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .done-badge span {
      font-size: 13px;
    }
    footer {
      color: #64748b;
      margin-top: 20px;
      text-align: center;
      font-size: 12px;
    }
    .modal-bg {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(15,23,42,0.96), rgba(15,23,42,0.98));
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 60;
    }
    .modal {
      width: 100%;
      max-width: 880px;
      background:
        radial-gradient(circle at 0% 0%, rgba(251,191,36,0.08), transparent 55%),
        radial-gradient(circle at 100% 120%, rgba(34,211,238,0.12), #020617);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 20px 20px 18px;
      border-radius: 20px;
      color: #e5e7eb;
      box-shadow: 0 32px 90px rgba(15,23,42,1);
      position: relative;
    }
    .modal .top {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    .modal-visual {
      width: 230px;
      height: 230px;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        radial-gradient(circle at 10% 0%, rgba(251,191,36,0.35), transparent 52%),
        radial-gradient(circle at 80% 120%, rgba(56,189,248,0.28), rgba(15,23,42,1));
      box-shadow: 0 0 50px rgba(15,23,42,0.9);
      flex-shrink: 0;
      position: relative;
      overflow: hidden;
    }
    .modal-visual::before {
      content: "";
      position: absolute;
      inset: 16%;
      border-radius: 999px;
      border: 1px dashed rgba(248,250,252,0.18);
    }
    .modal-visual span {
      font-size: 72px;
      filter: drop-shadow(0 0 18px rgba(251,191,36,0.8));
    }
    .modal h2 {
      color: #f9fafb;
      margin: 0 0 6px;
      font-size: 20px;
    }
    .small {
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 6px;
    }
    .modal p {
      margin: 0 0 10px;
      font-size: 14px;
      line-height: 1.45;
    }
    .btn {
      display: inline-block;
      padding: 7px 11px;
      border-radius: 999px;
      background: transparent;
      border: 1px solid rgba(148,163,184,0.7);
      color: #e5e7eb;
      cursor: pointer;
      margin-right: 6px;
      font-size: 12px;
    }
    .btn.close-btn {
      position: absolute;
      top: 10px;
      right: 12px;
      padding-inline: 10px;
      padding-block: 5px;
    }
    .mark {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      margin-top: 8px;
      margin-bottom: 10px;
      font-size: 13px;
      color: #cbd5e1;
    }
    .mark input {
      width: 17px;
      height: 17px;
    }
    .note {
      margin-top: 10px;
      color: #9ca3af;
      font-size: 11px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Calendario de Adviento â€” MÃ­stico</h1>
      <p class="lead">
        24 puertas con rituales, afirmaciones, orÃ¡culos y manualidades Â· Luna Nera Shop
      </p>
    </header>

    <main>
      <div class="grid" id="grid"></div>
      <footer>Â© Luna Nera Shop Â· Calendario mÃ­stico</footer>
    </main>
  </div>

  <div id="modal-root" style="display:none"></div>

  <script>
    const ITEMS = [
      { id: 1,  title: "Ritual de Apertura â€” DÃ­a 1",   type: "Ritual",     icon: "ðŸ•¯ï¸", orb: "ritual",
        short: "Enciende la luz interior",
        body: "Enciende una vela blanca. Coloca tus manos sobre tu corazÃ³n y visualiza una estrella dorada dentro de ti activÃ¡ndose poco a poco. Respira hondo y di: Â«Doy la bienvenida a la luz en mi vidaÂ»." },

      { id: 2,  title: "AfirmaciÃ³n de ProtecciÃ³n â€” DÃ­a 2", type: "AfirmaciÃ³n", icon: "ðŸ›¡ï¸", orb: "afirmacion",
        short: "Crea tu cÃ­rculo protector",
        body: "AfirmaciÃ³n del dÃ­a: Â«Estoy rodeada de luz, magia y protecciÃ³n. Nada externo me desequilibra. Mi energÃ­a es sagradaÂ». RepÃ­tela al menos 3 veces durante el dÃ­a." },

      { id: 3,  title: "Mensaje de OrÃ¡culo â€” DÃ­a 3",  type: "OrÃ¡culo",    icon: "âœ¨", orb: "oraculo",
        short: "Conecta con la Estrella",
        body: "La energÃ­a de hoy es esperanza. Observa una estrella (real o en imagen) y pide una seÃ±al clara para este mes. Anota la primera idea, palabra o sÃ­mbolo que te llegue: Ã©se es tu mensaje." },

      { id: 4,  title: "PequeÃ±o Hechizo â€” DÃ­a 4",     type: "Hechizo",    icon: "ðŸ§ª", orb: "ritual",
        short: "Hechizo de calma",
        body: "Escribe en un papel aquello que te inquieta. ColÃ³calo bajo un vaso de agua durante una hora. DespuÃ©s, tira el agua a la tierra o al fregadero, visualizando cÃ³mo se disuelve la preocupaciÃ³n." },

      { id: 5,  title: "Manualidad â€” DÃ­a 5",          type: "Manualidad", icon: "ðŸ§µ", orb: "manualidad",
        short: "Crea un amuleto de invierno",
        body: "Haz un pequeÃ±o saquito de tela. Introduce romero (limpieza), sal (protecciÃ³n) y un cuarzo blanco o piedra clara (claridad). CiÃ©rralo con un lazo y llÃ©valo contigo durante diciembre como talismÃ¡n." },

      { id: 6,  title: "MeditaciÃ³n â€” DÃ­a 6",          type: "Audio",      icon: "ðŸ’¨", orb: "audio",
        short: "5 minutos de liberaciÃ³n",
        body: "Haz una pausa de 5 minutos. Respira profundamente 7 veces. En cada exhalaciÃ³n imagina cÃ³mo expulsas peso del pasado. Visualiza un suave humo gris saliendo de ti y transformÃ¡ndose en luz." },

      { id: 7,  title: "Ritual â€” DÃ­a 7",              type: "Ritual",     icon: "ðŸŒ«ï¸", orb: "ritual",
        short: "Ritual del incienso",
        body: "Enciende incienso de sÃ¡ndalo, pino o mirra. Observa el humo elevÃ¡ndose y visualiza cÃ³mo se lleva la energÃ­a densa de tu hogar. Recorre la casa con el incienso en sentido de las agujas del reloj." },

      { id: 8,  title: "AfirmaciÃ³n â€” DÃ­a 8",          type: "AfirmaciÃ³n", icon: "ðŸ’›", orb: "afirmacion",
        short: "Abrazo al merecimiento",
        body: "AfirmaciÃ³n del dÃ­a: Â«Soy merecedora de oportunidades, abundancia y bienestar. Me abro a recibir con amorÂ». EscrÃ­bela en un papel y colÃ³calo en un lugar visible." },

      { id: 9,  title: "OrÃ¡culo â€” DÃ­a 9",             type: "OrÃ¡culo",    icon: "ðŸ”®", orb: "oraculo",
        short: "Carta de intuiciÃ³n",
        body: "Imagina que recibes una carta mÃ¡gica con un sÃ­mbolo: luna, sol o estrella. Elige uno sin pensarlo. Luna: escucha tus emociones. Sol: actÃºa con confianza. Estrella: confÃ­a en tu guÃ­a interna." },

      { id: 10, title: "Hechizo â€” DÃ­a 10",            type: "Hechizo",    icon: "ðŸŒŠ", orb: "ritual",
        short: "Hechizo de paz",
        body: "Coloca sal marina en un cuenco pequeÃ±o. Pon tus manos encima y di: Â«La paz me encuentra, me abraza y se quedaÂ». DespuÃ©s, tira la sal por el fregadero con agua, visualizando calma entrando en tu vida." },

      { id: 11, title: "Manualidad â€” DÃ­a 11",         type: "Manualidad", icon: "ðŸŒ¿", orb: "manualidad",
        short: "Corona mÃ­stica",
        body: "Crea una mini corona con ramitas, cuerda y, si tienes, una hoja de laurel. Cuelga la corona en la entrada o cerca de una ventana para llamar a la buena suerte y la protecciÃ³n." },

      { id: 12, title: "Audio â€” DÃ­a 12",              type: "Audio",      icon: "ðŸŒ™", orb: "audio",
        short: "RespiraciÃ³n lunar",
        body: "Practica la respiraciÃ³n 4â€“4â€“6: inhala contando 4, mantÃ©n 4 segundos y exhala en 6, imaginando una luna plateada sobre ti que te llena de calma suave. Repite varias veces." },

      { id: 13, title: "Ritual â€” DÃ­a 13",             type: "Ritual",     icon: "ðŸ’§", orb: "ritual",
        short: "Ritual del agua",
        body: "Llena un vaso con agua. Pon tus manos alrededor y transmite una intenciÃ³n clara: paz, salud, abundanciaâ€¦ Bebe el agua lentamente, sintiendo que esa energÃ­a entra en tu cuerpo." },

      { id: 14, title: "AfirmaciÃ³n â€” DÃ­a 14",         type: "AfirmaciÃ³n", icon: "ðŸš¶â€â™€ï¸", orb: "afirmacion",
        short: "Yo avanzo",
        body: "AfirmaciÃ³n del dÃ­a: Â«Me abro a nuevos ciclos con confianza. Avanzo, aunque sea paso a paso, hacia una vida mÃ¡s alineada conmigoÂ». RepÃ­tela cuando sientas dudas." },

      { id: 15, title: "OrÃ¡culo â€” DÃ­a 15",            type: "OrÃ¡culo",    icon: "ðŸŒŒ", orb: "oraculo",
        short: "Mensaje del espÃ­ritu del invierno",
        body: "Cierra los ojos y elige una palabra: calma, introspecciÃ³n, guÃ­a o renacimiento. La palabra que elijas es el consejo del invierno para ti hoy. EscrÃ­bela y mantÃ©nla presente." },

      { id: 16, title: "Hechizo â€” DÃ­a 16",            type: "Hechizo",    icon: "ðŸ™", orb: "ritual",
        short: "Hechizo de gratitud",
        body: "Escribe 3 cosas que agradeces del aÃ±o. EnrÃ³llalo y quÃ©malo (siempre en un recipiente seguro) o guÃ¡rdalo en un frasco. La gratitud multiplica la magia y abre espacio para nuevas bendiciones." },

      { id: 17, title: "Manualidad â€” DÃ­a 17",         type: "Manualidad", icon: "ðŸ§ª", orb: "manualidad",
        short: "Botella de intenciones",
        body: "Llena una mini botella o frasquito con purpurina, pÃ©talos secos y un papel con un deseo escrito muy breve. CiÃ©rrala y colÃ³cala en tu altar o mesilla como recordatorio de tu intenciÃ³n." },

      { id: 18, title: "Audio â€” DÃ­a 18",              type: "Audio",      icon: "ðŸŒ³", orb: "audio",
        short: "MeditaciÃ³n de raÃ­ces",
        body: "SiÃ©ntate cÃ³moda y visualiza raÃ­ces de luz que salen de tus pies y te conectan con la tierra. Siente la estabilidad bajo ti. Repite mentalmente: Â«Estoy enraizada, segura y presenteÂ»." },

      { id: 19, title: "Ritual â€” DÃ­a 19",             type: "Ritual",     icon: "ðŸ”†", orb: "ritual",
        short: "Ritual de claridad",
        body: "Enciende una vela y obsÃ©rvala en silencio unos minutos. Permite que tu mente muestre aquello que necesitas soltar o aclarar. Si te nace, escrÃ­belo en un papel para trabajarlo mÃ¡s adelante." },

      { id: 20, title: "AfirmaciÃ³n â€” DÃ­a 20",         type: "AfirmaciÃ³n", icon: "ðŸŒŸ", orb: "afirmacion",
        short: "Soy luz",
        body: "AfirmaciÃ³n del dÃ­a: Â«Mi energÃ­a ilumina cada espacio que habito. Soy luz, incluso en los dÃ­as grisesÂ». RepÃ­tela frente al espejo si te sientes cÃ³moda." },

      { id: 21, title: "OrÃ¡culo â€” DÃ­a 21",            type: "OrÃ¡culo",    icon: "â˜€ï¸", orb: "oraculo",
        short: "Portal del solsticio",
        body: "Este dÃ­a es un portal de renacer. PregÃºntate: Â«Â¿QuÃ© ciclo cierro hoy y cuÃ¡l quiero abrir?Â». Escribe una frase de cierre y una de apertura. GuÃ¡rdalas en tu altar o lugar especial." },

      { id: 22, title: "Hechizo â€” DÃ­a 22",            type: "Hechizo",    icon: "ðŸª™", orb: "ritual",
        short: "Hechizo de abundancia",
        body: "Coloca una moneda limpia junto a una vela dorada o blanca. Di: Â«La prosperidad fluye hacia mÃ­ de forma equilibrada y amorosaÂ». Deja la vela encendida un rato, siempre bajo supervisiÃ³n." },

      { id: 23, title: "Manualidad â€” DÃ­a 23",         type: "Manualidad", icon: "ðŸŒ™", orb: "manualidad",
        short: "Guirnalda lunar",
        body: "Recorta lunas en cartÃ³n o cartulina y pÃ­ntalas en tonos plateados o blancos. CuÃ©lgalas con hilo sobre una ventana o en un rincÃ³n especial. Cada luna representa un deseo para el prÃ³ximo aÃ±o." },

      { id: 24, title: "Ritual de Cierre â€” DÃ­a 24",   type: "Ritual",     icon: "ðŸŽ‡", orb: "ritual",
        short: "CelebraciÃ³n y cierre",
        body: "Enciende varias velas (si puedes, en tonos blanco y dorado). Agradece en voz alta todo lo vivido este mes y este aÃ±o. Escribe una intenciÃ³n para el nuevo ciclo y guÃ¡rdala donde puedas leerla cuando lo necesites." }
    ];

    const LS_DONE = "calendario_mistico_done_v1";
    const done = JSON.parse(localStorage.getItem(LS_DONE) || "{}");

    const grid = document.getElementById("grid");

    function orbClass(item) {
      switch (item.type) {
        case "Ritual": return "orb-ritual";
        case "Hechizo": return "orb-ritual";
        case "AfirmaciÃ³n": return "orb-afirmacion";
        case "OrÃ¡culo": return "orb-oraculo";
        case "Manualidad": return "orb-manualidad";
        case "Audio": return "orb-audio";
        default: return "orb-ritual";
      }
    }

    function renderGrid() {
      grid.innerHTML = "";
      ITEMS.forEach((item) => {
        const card = document.createElement("div");
        card.className = "card";

        const head = document.createElement("div");
        head.className = "head";

        const num = document.createElement("div");
        num.className = "num";
        num.textContent = item.id;

        const typ = document.createElement("div");
        typ.className = "type";
        typ.textContent = item.type;

        head.appendChild(num);
        head.appendChild(typ);

        const short = document.createElement("div");
        short.className = "short";
        short.textContent = item.short;

        const orb = document.createElement("div");
        orb.className = "icon-orb " + orbClass(item);
        const iconSpan = document.createElement("span");
        iconSpan.textContent = item.icon;
        orb.appendChild(iconSpan);

        card.appendChild(head);
        card.appendChild(short);
        card.appendChild(orb);

        if (done[item.id]) {
          const badge = document.createElement("div");
          badge.className = "done-badge";
          const check = document.createElement("span");
          check.textContent = "âœ“";
          const txt = document.createElement("span");
          txt.textContent = "Hecho";
          badge.appendChild(check);
          badge.appendChild(txt);
          card.appendChild(badge);
        }

        card.addEventListener("click", () => openModal(item));

        grid.appendChild(card);
      });
    }

    function openModal(item) {
      const root = document.getElementById("modal-root");
      root.style.display = "block";
      root.innerHTML = "";

      const bg = document.createElement("div");
      bg.className = "modal-bg";

      const modal = document.createElement("div");
      modal.className = "modal";

      const closeBtn = document.createElement("button");
      closeBtn.className = "btn close-btn";
      closeBtn.textContent = "Cerrar";
      closeBtn.addEventListener("click", closeModal);

      const top = document.createElement("div");
      top.className = "top";

      const visual = document.createElement("div");
      visual.className = "modal-visual";
      const icon = document.createElement("span");
      icon.textContent = item.icon;
      visual.appendChild(icon);

      const info = document.createElement("div");

      const h2 = document.createElement("h2");
      h2.textContent = item.title;

      const typeP = document.createElement("div");
      typeP.className = "small";
      typeP.textContent = "Tipo: " + item.type;

      const body = document.createElement("p");
      body.textContent = item.body;

      const markWrap = document.createElement("label");
      markWrap.className = "mark";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = !!done[item.id];
      checkbox.addEventListener("change", () => {
        done[item.id] = checkbox.checked;
        localStorage.setItem(LS_DONE, JSON.stringify(done));
        renderGrid();
      });

      const markText = document.createElement("span");
      markText.textContent = "Marcar como hecho";

      markWrap.appendChild(checkbox);
      markWrap.appendChild(markText);

      const note = document.createElement("div");
      note.className = "note";
      note.textContent = "Tu progreso se guarda en tu navegador (solo tÃº lo ves).";

      info.appendChild(h2);
      info.appendChild(typeP);
      info.appendChild(body);
      info.appendChild(markWrap);
      info.appendChild(note);

      top.appendChild(visual);
      top.appendChild(info);

      modal.appendChild(closeBtn);
      modal.appendChild(top);

      bg.appendChild(modal);
      bg.addEventListener("click", (e) => {
        if (e.target === bg) closeModal();
      });

      root.appendChild(bg);
    }

    function closeModal() {
      const root = document.getElementById("modal-root");
      root.style.display = "none";
      root.innerHTML = "";
    }

    document.addEventListener("DOMContentLoaded", renderGrid);
  </script>
</body>
</html>
